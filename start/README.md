# Getting Started  

### Create a website using markdown with free GitHub hosting  

The Localsite Framework is designed to allow multiple Github repos (using JQuery, React,&nbsp;Vue, etc.) to communicate using hash values.  



## 1. Start a localhost server on your computer

WITH PYTHON: Go to the folder where you'd like your webroot to reside and run the following to view pages on localhost:  
Run this command to start localhost whenever you restart your computer.

	python -m http.server 8887

 Or run anywhere and include a path to your webroot. Change /Sites to your custom path:

 	python3 -m http.server 8887 -d /Sites

If the above do not work, you can also try:  

	python -m SimpleHTTPServer 8887

ON A PC: [Install IIS](https://www.techwalla.com/articles/how-to-circumvent-mcafee-dlp) to view using http://localhost/  &nbsp; With this approach you'd avoid typing the port number.


 WITH CHORME: Alternatively, you can install [Web Server for Chrome](https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb?hl=en) to view and develop pages offline using https://localhost:8777 on your computer. Web Server for Chrome also allows you to [load a custom domain](https://medium.com/@jmatix/using-chrome-as-a-local-web-server-af04baffd581). Web Server for Chrome does not work as a Brave browser extension on Mac (as of December 2019), but you can add as a Chrome extension, then utilize from within Brave.

 On a Mac, you can add a shorthand "localsite" command in your .bash_profile file. Change /Site to your webroot:

 	alias localsite="python3 -m http.server 8887 -d /Site"

## 2. Clone the "localsite" repo into your webroot 

Place the <a href='https://github.com/localsite/localsite/'>localsite repo</a> within the root of your local web folder, along with other repos that reference&nbsp;it.  

Click the green "Code" button on the page above to clone the repo.  

Choose "Open with Github Desktop" to pull down using <a href="https://desktop.github.com/">GitHub Desktop</a>.  

Save the file in the webroot folder you created in step 1.  

A static page should now be visible at [http://localhost:8887/localsite/](http://localhost:8887/localsite/)  
An industry impact widget is embedded on the page.  

Also clone the <a href='https://github.com/modelearth/io/'>io repo</a> into the same webroot to help build input-output widgets. [Learn more](../../../io/charts/)    


For the address search to work, you'll need to get a new Google Maps API key. You can get yours and enable it by following these instructions: [https://developers.google.com/maps/documentation/javascript/get-api-key](https://developers.google.com/maps/documentation/javascript/get-api-key)  

When you get a key, set the google_api_key in localsite/map/auto/config.json
<!--
\_config.yml.
-->

## 3. Deploy your updates

Deploy your updates using GitHub. If you are not a project collaborator, GitHub Desktop will prompt you to create a project fork on GitHub. Place a pull request when your updates are ready for review.  

<!--
- <a href='https://github.com/modelearth/io'>io</a> - overview
- <a href='https://github.com/georgiadata/smartdata'>smartdata</a> - data

A 404 error will occur for the private smartdata folder if you are not a collaborator. 
-->

<!--
## 4. Update markdown pages

Add notes and links in the README.md files which are pulled into index.html pages.  

- [Bioeconomy Planner - BEA](../../bea)  
- [Industry Impact](../../industries)  
- [Localization - Places](../../places)  
-->

<!--
## 5. Update dataset layouts

Use a Google Sheet or CSV file to [prototype a list or chart](../dataset) and update [EEIO Widgets](https://model.earth/io/charts/) that load from JSON files generated by the USEEIO API.  
-->

<!--
1. [Set up crowdsourced editing](../../../crowdsource/editor) of data for lists and maps.

1. Copy the "starter" folder inside community and give it the name of your community or module.
-->


### Mac Users
To avoid commiting your local .DS\_Store files to GitHub, you may need to run the following to ignore .DS\_Store files during commits forever. The .DS\_Store files will continue to set icon sizes in your local file manager.   
 
<!-- Avoid .DS_Store file creation over network connections (article from 2011, confirm this still occurs)
	https://support.apple.com/en-us/HT1629 -->
	git config --global core.excludesfile ~/.gitignore  
	echo .DS_Store >> ~/.gitignore

If you encounter the error "xcrun: error: invalid active developer path", [install the Xcode toolkit](https://ma.ttias.be/mac-os-xcrun-error-invalid-active-developer-path-missing-xcrun/) first.  

You can toggle hidden file viewing using Command+Shift+Dot, .DS_Store will not be displayed. 
To fix a conflict you may need delete the .DS_Store within the Github.com website.  


## 4. Activate your website

### Turn on Github Pages to view your site online

To activate GitHub Pages on your fork’s settings page, set the Github Pages Source to “Branch: master” with “/(root)“. Wait a few minutes for new GitHub Pages site to become available at the Github.io link.  You can point a domain at all the repos in your Github account with the steps below.  

### How to host multiple repos in one site using Github Pages - without using subdomains

- Use CloudFlare.com as a free proxy for your domain name - [setup steps](cloudflare/)  
- Important: Avoid adding the 4 Google A records (these prevent adding the CNAME record).  
- Create a repo in your primary account matching the name of the account: [github username].github.io  
- Click settings and activate GitHub Pages for your [github username].github.io and each repo that is a subfolder in your site.  
- Add your custom domain name to the root repo called [github username].github.io.  
- Add a CNAME record for your domain in CloudFlare with @ and [secondary github username].github.io. Using a secondary GitHub username allows more than one repo folder to be accessible through your primary domain.   

- Wait 2 to 10 minutes for new GitHub Pages site to become available.
- Activate GitHub Pages for each additional repo residing within the primary account. These can be forks from other accounts.  
- Avoid putting referenced files in your [github username].github.io root repo because it won't be the root of your site when you view on localhost.  
- Make a fork of the current "[localsite](https://github.com/localsite/localsite/)" repo to include it's functionality in your site design.  


## 5. Update your forked repos

### Occasionally merge in updates from the main (source) repo by doing a "pull request"

- On your forked repo: Click Compare 
- Flip the order. (Pick a third repo temporarily because if the two match a warning occurs.)<!-- switching the base (if you have not switched already) -->
- Create pull request > Give the pull request a title 
- Create pull request (again) 
- Merge pull request (scroll down) > Confirm merge.  

[Images of steps for updating your fork](https://stackoverflow.com/questions/20984802/how-can-i-keep-my-fork-in-sync-without-adding-a-separate-remote/21131381#21131381)


## Additional Resources

Examples of editing using markdown language [Markdown to HTML (Dillinger)](https://dillinger.io/)  

Learn more about [JAM Stack Development](https://jamstack.org) - the process of creating fast sites using static pages with CSV files, JSON and APIs. 

<!--
Advanced: Pre-process with [Gatsby](https://www.gatsbyjs.org/) which delivers static content enfused with React. 
-->



<br>
 